#Testing out multinomial regression with brms
library (brms)
library("rstan")
rstan_options (auto_write=TRUE)
options (mc.cores=parallel::detectCores ()) # Run on multiple cores

set.seed (3875)

ir <- data.frame (scale (iris[, -5]), Species=iris[, 5])
head(ir)
unique(ir$Species)

b1 <- brm(Species ~ Petal.Length + Petal.Width + Sepal.Length + Sepal.Width,
                      data=ir, family="categorical",
                      prior=c(set_prior ("normal (0, 8)")))

#For the flood risk model this should be:

brm(Race ~ floodrisk,
    data=wastats_bgsub, family="categorical",
    prior=c(set_prior ("normal (0, 8)")))
predict(b1)
